import { Pipe, NgModule } from '@angular/core';
import { calculateLocale } from './date-fns-configuration.service';
import formatDistanceStrict from 'date-fns/formatDistanceStrict';
import { isValidDate } from './utils';
import * as i0 from "@angular/core";
import * as i1 from "./date-fns-configuration.service";
export class FormatDistanceStrictPipe {
    constructor(config, cd) {
        this.config = config;
        this.cd = cd;
        this.localeChanged$ = this.config.localeChanged.subscribe(_ => this.cd.markForCheck());
    }
    ngOnDestroy() {
        this.localeChanged$.unsubscribe();
    }
    transform(date, dateToCompare, options) {
        if (isValidDate(date) && isValidDate(dateToCompare)) {
            return formatDistanceStrict(date, dateToCompare, calculateLocale(options, this.config));
        }
        return '';
    }
}
FormatDistanceStrictPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: FormatDistanceStrictPipe, deps: [{ token: i1.DateFnsConfigurationService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Pipe });
FormatDistanceStrictPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: FormatDistanceStrictPipe, name: "dfnsFormatDistanceStrict", pure: false });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: FormatDistanceStrictPipe, decorators: [{
            type: Pipe,
            args: [{ name: 'dfnsFormatDistanceStrict', pure: false }]
        }], ctorParameters: function () { return [{ type: i1.DateFnsConfigurationService }, { type: i0.ChangeDetectorRef }]; } });
export class FormatDistanceStrictPipeModule {
}
FormatDistanceStrictPipeModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: FormatDistanceStrictPipeModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
FormatDistanceStrictPipeModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: FormatDistanceStrictPipeModule, declarations: [FormatDistanceStrictPipe], exports: [FormatDistanceStrictPipe] });
FormatDistanceStrictPipeModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: FormatDistanceStrictPipeModule });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.2.3", ngImport: i0, type: FormatDistanceStrictPipeModule, decorators: [{
            type: NgModule,
            args: [{
                    declarations: [FormatDistanceStrictPipe],
                    exports: [FormatDistanceStrictPipe]
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWF0LWRpc3RhbmNlLXN0cmljdC5waXBlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbGliL3NyYy9saWIvZm9ybWF0LWRpc3RhbmNlLXN0cmljdC5waXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxJQUFJLEVBSUosUUFBUSxFQUNULE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFFTCxlQUFlLEVBQ2hCLE1BQU0sa0NBQWtDLENBQUM7QUFJMUMsT0FBTyxvQkFBb0IsTUFBTSwrQkFBK0IsQ0FBQztBQUNqRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sU0FBUyxDQUFDOzs7QUFHdEMsTUFBTSxPQUFPLHdCQUF3QjtJQUduQyxZQUNTLE1BQW1DLEVBQ25DLEVBQXFCO1FBRHJCLFdBQU0sR0FBTixNQUFNLENBQTZCO1FBQ25DLE9BQUUsR0FBRixFQUFFLENBQW1CO1FBRTVCLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQzVELElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQ3ZCLENBQUM7SUFDSixDQUFDO0lBRUQsV0FBVztRQUNULElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDcEMsQ0FBQztJQUVELFNBQVMsQ0FDUCxJQUF5QyxFQUN6QyxhQUFrRCxFQUNsRCxPQUtDO1FBRUQsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksV0FBVyxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQ25ELE9BQU8sb0JBQW9CLENBQ3pCLElBQUksRUFDSixhQUFhLEVBQ2IsZUFBZSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQ3RDLENBQUM7U0FDSDtRQUNELE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQzs7cUhBbENVLHdCQUF3QjttSEFBeEIsd0JBQXdCOzJGQUF4Qix3QkFBd0I7a0JBRHBDLElBQUk7bUJBQUMsRUFBRSxJQUFJLEVBQUUsMEJBQTBCLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRTs7QUEwQ3ZELE1BQU0sT0FBTyw4QkFBOEI7OzJIQUE5Qiw4QkFBOEI7NEhBQTlCLDhCQUE4QixpQkF6QzlCLHdCQUF3QixhQUF4Qix3QkFBd0I7NEhBeUN4Qiw4QkFBOEI7MkZBQTlCLDhCQUE4QjtrQkFKMUMsUUFBUTttQkFBQztvQkFDUixZQUFZLEVBQUUsQ0FBQyx3QkFBd0IsQ0FBQztvQkFDeEMsT0FBTyxFQUFFLENBQUMsd0JBQXdCLENBQUM7aUJBQ3BDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgUGlwZSxcbiAgUGlwZVRyYW5zZm9ybSxcbiAgT25EZXN0cm95LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgTmdNb2R1bGVcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBEYXRlRm5zQ29uZmlndXJhdGlvblNlcnZpY2UsXG4gIGNhbGN1bGF0ZUxvY2FsZVxufSBmcm9tICcuL2RhdGUtZm5zLWNvbmZpZ3VyYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IERhdGVGbnNJbnB1dERhdGUsIERhdGVGbnNVbml0LCBEYXRlRm5zUm91bmRpbmdNZXRob2QgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IExvY2FsZSB9IGZyb20gJ2RhdGUtZm5zJztcbmltcG9ydCBmb3JtYXREaXN0YW5jZVN0cmljdCBmcm9tICdkYXRlLWZucy9mb3JtYXREaXN0YW5jZVN0cmljdCc7XG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4vdXRpbHMnO1xuXG5AUGlwZSh7IG5hbWU6ICdkZm5zRm9ybWF0RGlzdGFuY2VTdHJpY3QnLCBwdXJlOiBmYWxzZSB9KVxuZXhwb3J0IGNsYXNzIEZvcm1hdERpc3RhbmNlU3RyaWN0UGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0sIE9uRGVzdHJveSB7XG4gIHByaXZhdGUgbG9jYWxlQ2hhbmdlZCQ6IFN1YnNjcmlwdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgY29uZmlnOiBEYXRlRm5zQ29uZmlndXJhdGlvblNlcnZpY2UsXG4gICAgcHVibGljIGNkOiBDaGFuZ2VEZXRlY3RvclJlZlxuICApIHtcbiAgICB0aGlzLmxvY2FsZUNoYW5nZWQkID0gdGhpcy5jb25maWcubG9jYWxlQ2hhbmdlZC5zdWJzY3JpYmUoXyA9PlxuICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKVxuICAgICk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmxvY2FsZUNoYW5nZWQkLnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICB0cmFuc2Zvcm0oXG4gICAgZGF0ZTogRGF0ZUZuc0lucHV0RGF0ZSB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgZGF0ZVRvQ29tcGFyZTogRGF0ZUZuc0lucHV0RGF0ZSB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIGFkZFN1ZmZpeD86IGJvb2xlYW47XG4gICAgICB1bml0PzogRGF0ZUZuc1VuaXQ7XG4gICAgICByb3VuZGluZ01ldGhvZD86IERhdGVGbnNSb3VuZGluZ01ldGhvZDtcbiAgICAgIGxvY2FsZT86IExvY2FsZTtcbiAgICB9XG4gICk6IHN0cmluZyB7XG4gICAgaWYgKGlzVmFsaWREYXRlKGRhdGUpICYmIGlzVmFsaWREYXRlKGRhdGVUb0NvbXBhcmUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RGlzdGFuY2VTdHJpY3QoXG4gICAgICAgIGRhdGUsXG4gICAgICAgIGRhdGVUb0NvbXBhcmUsXG4gICAgICAgIGNhbGN1bGF0ZUxvY2FsZShvcHRpb25zLCB0aGlzLmNvbmZpZylcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtGb3JtYXREaXN0YW5jZVN0cmljdFBpcGVdLFxuICBleHBvcnRzOiBbRm9ybWF0RGlzdGFuY2VTdHJpY3RQaXBlXVxufSlcbmV4cG9ydCBjbGFzcyBGb3JtYXREaXN0YW5jZVN0cmljdFBpcGVNb2R1bGUge31cbiJdfQ==